build:
    maxIssues: 0
    weights:
        complexity: 2
        LongParameterList: 1
        style: 1
        comments: 1

config:
    validation: true
    warningsAsErrors: false
    checkExhaustiveness: false
    excludes: ""

processors:
    active: true
    exclude:
        - "DetektProgressListener"

console-reports:
    active: true
    exclude:
        - "ProjectStatisticsReport"
        - "ComplexityReport"
        - "NotificationReport"
        - "FindingsReport"
        - "FileBasedFindingsReport"

comments:
    active: true
    CommentOverPrivateFunction:
        active: false
    CommentOverPrivateProperty:
        active: false
    EndOfSentenceFormat:
        active: false
        endOfSentenceFormat: '([.?!][ \t\n\r\f<])|([.?!]$)'
    UndocumentedPublicClass:
        active: false
    UndocumentedPublicFunction:
        active: false
    UndocumentedPublicProperty:
        active: false

complexity:
    active: true
    ComplexCondition:
        active: true
        threshold: 8 # Relaxed
    ComplexInterface:
        active: true
        threshold: 50 # Relaxed
    # ComplexMethod is deprecated, using CyclomaticComplexMethod instead
    # ComplexMethod:
    #     active: true
    #     threshold: 15
    #     nestingFunctions:
    #         - run
    #         - let
    #         - apply
    #         - with
    #         - also
    #         - use
    #         - forEach
    CyclomaticComplexMethod:
        active: true
        threshold: 100 # Relaxed for legacy
    LargeClass:
        active: true
        threshold: 1500 # Relaxed
    LongMethod:
        active: true
        threshold: 600 # Relaxed
    LongParameterList:
        active: true
        functionThreshold: 20 # Relaxed for Composables
        constructorThreshold: 20
        ignoreDataClasses: true
    MethodOverloading:
        active: true
        threshold: 6
    NestedBlockDepth:
        active: true
        threshold: 8 # Relaxed
    TooManyFunctions:
        active: false # Disabled for legacy files

coroutines:
    active: true
    GlobalCoroutineUsage:
        active: true
    RedundantSuspendModifier:
        active: true
    SleepInsteadOfDelay:
        active: true
    SuspendFunWithFlowReturnType:
        active: true

empty-blocks:
    active: true
    EmptyCatchBlock:
        active: false
        allowedExceptionNameRegex: "^(ignore|expected).*"
    EmptyClassBlock:
        active: true
    EmptyFunctionBlock:
        active: true
        ignoreOverridden: false
    EmptyIfBlock:
        active: true
    EmptyWhenBlock:
        active: true

exceptions:
    active: true
    SwallowedException:
        active: false
    TooGenericExceptionCaught:
        active: false
        allowedExceptionNameRegex: "^_|(ignore|expected).*"

naming:
    active: true
    ClassNaming:
        active: true
        classPattern: "[A-Z][a-zA-Z0-9]*"
    FunctionNaming:
        active: true
        functionPattern: "([a-zA-Z][a-zA-Z0-9]*)|(`.*`)" # Modified to allow PascalCase for Composables
        ignoreOverridden: true
    ObjectPropertyNaming:
        active: true
    PackageNaming:
        active: true
        packagePattern: '[a-z]+(\.[a-z][A-Za-z0-9]*)*'
    TopLevelPropertyNaming:
        active: true
    VariableNaming:
        active: true

performance:
    active: true
    SpreadOperator:
        active: true
    UnnecessaryTemporaryInstantiation:
        active: true

potential-bugs:
    active: true
    Deprecation:
        active: true
    DontDowncastCollectionTypes:
        active: true
    HasPlatformType:
        active: true
    ImplicitUnitReturnType:
        active: true
    LateinitUsage:
        active: false
    MapGetWithNotNullAssertionOperator:
        active: true
    UnsafeCallOnNullableType:
        active: true
    UnsafeCast:
        active: true

style:
    active: true
    CollapsibleIfStatements:
        active: false
    DataClassContainsFunctions:
        active: false
    ForbiddenComment:
        active: false
        values:
            - "FIXME:"
            - "STOPSHIP:"
            - "TODO:"
    ForbiddenImport:
        active: false
        imports:
            - "java.util.Date"
            - "java.util.logging.Logger"
    ForbiddenMethodCall:
        active: true
        methods:
            - "kotlin.io.print"
            - "kotlin.io.println"
    MagicNumber:
        active: false
        ignoreNumbers: ["-1", "0", "1", "2", "3"]
        ignoreConstantDeclaration: true
        ignoreCompanionObjectPropertyDeclaration: true
    MaxLineLength:
        active: false
        maxLineLength: 140
    ReturnCount:
        active: true
        max: 6 # Increased from 2 to accomadate legacy code
        excludeGuardClauses: true
    UnnecessaryAbstractClass:
        active: true
    UnusedImports:
        active: true
    UnusedPrivateMember:
        active: false
    WildcardImport:
        active: false
# Removed invalid formatting section
# formatting:
#   active: true
#   android: false
#   autoCorrect: true
#   MaximumLineLength:
#     active: false
#   NoWildcardImports:
#     active: false
